# =============================================================================
# AI STRATEGY HUB - ENVIRONMENT VARIABLES
# =============================================================================
# Copia questo file in .env e compila con i valori reali
# NOTA: Mai committare .env nel repository!
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT
# -----------------------------------------------------------------------------
ENVIRONMENT=development  # development | staging | production
DEBUG=true               # true in dev, false in production
SECRET_KEY=your-super-secret-key-min-32-chars-here  # Genera con: openssl rand -hex 32

# -----------------------------------------------------------------------------
# DATABASE - PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=aistrategyhub
POSTGRES_USER=aistrategyhub
POSTGRES_PASSWORD=your-secure-password-here

# Connection URL (costruito dai valori sopra, oppure override)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# CACHE - Redis
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Lascia vuoto se senza password in dev
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# Session settings
SESSION_TTL_SECONDS=604800  # 7 giorni

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars  # Genera con: openssl rand -hex 32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# MICROSOFT GRAPH API (Email)
# -----------------------------------------------------------------------------
# Azure AD App Registration
MS_GRAPH_TENANT_ID=your-azure-tenant-id
MS_GRAPH_CLIENT_ID=your-azure-client-id
MS_GRAPH_CLIENT_SECRET=your-azure-client-secret

# Email settings
MS_GRAPH_SENDER_EMAIL=noreply@aistrategyhub.eu
MS_GRAPH_SENDER_NAME=AI Strategy Hub

# -----------------------------------------------------------------------------
# STRIPE PAYMENTS
# -----------------------------------------------------------------------------
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe settings
STRIPE_CURRENCY=eur
STRIPE_SUCCESS_URL=https://aistrategyhub.eu/checkout/success
STRIPE_CANCEL_URL=https://aistrategyhub.eu/checkout/cancel

# -----------------------------------------------------------------------------
# CLAUDE API (Anthropic)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-...
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_MAX_TOKENS=4096
CLAUDE_TEMPERATURE=0.7

# RAG settings
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_TOP_K_RESULTS=5

# -----------------------------------------------------------------------------
# FATTURAZIONE ELETTRONICA (SDI)
# -----------------------------------------------------------------------------
# Dati cedente (tua azienda)
SELLER_NAME=AI Strategy Hub di Davide Botto
SELLER_VAT=IT12345678901  # Partita IVA
SELLER_FISCAL_CODE=BTTDVD...  # Codice fiscale
SELLER_ADDRESS=Via Example 123
SELLER_CITY=Milano
SELLER_ZIP=20100
SELLER_PROVINCE=MI
SELLER_COUNTRY=IT
SELLER_REGIME_FISCALE=RF01  # Ordinario

# PEC per invio SDI
SDI_PEC_EMAIL=fatture@pec.aistrategyhub.eu
SDI_PEC_PASSWORD=your-pec-password

# Numerazione fatture
INVOICE_PREFIX=  # Es: "HUB" per HUB-2026/00001
INVOICE_YEAR_FORMAT=%Y  # Anno nella numerazione

# -----------------------------------------------------------------------------
# FRONTEND (Next.js)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=AI Strategy Hub

# Analytics (opzionale)
NEXT_PUBLIC_GA_ID=  # Google Analytics ID

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# CORS
CORS_ORIGINS=http://localhost:3000,https://aistrategyhub.eu
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# MFA
MFA_ISSUER_NAME=AI Strategy Hub
MFA_BACKUP_CODES_COUNT=10

# -----------------------------------------------------------------------------
# EMAIL TEMPLATES
# -----------------------------------------------------------------------------
EMAIL_FROM_NAME=AI Strategy Hub
EMAIL_SUPPORT_ADDRESS=support@aistrategyhub.eu
EMAIL_VERIFICATION_EXPIRE_HOURS=24
PASSWORD_RESET_EXPIRE_HOURS=1

# -----------------------------------------------------------------------------
# FILE STORAGE
# -----------------------------------------------------------------------------
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE_MB=10
ALLOWED_EXTENSIONS=pdf,docx,doc,txt,md,png,jpg,jpeg,gif,webp

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=DEBUG  # DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_FORMAT=json  # json | text
LOG_DIR=/app/logs

# -----------------------------------------------------------------------------
# BACKUP
# -----------------------------------------------------------------------------
BACKUP_DIR=/backups
BACKUP_RETENTION_DAYS=7

# Remote backup (opzionale)
# BACKUP_S3_BUCKET=
# BACKUP_S3_ACCESS_KEY=
# BACKUP_S3_SECRET_KEY=
# BACKUP_S3_REGION=

# -----------------------------------------------------------------------------
# PRODUCTION ONLY
# -----------------------------------------------------------------------------
# SSL/TLS
# SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
# SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem

# Domain
# DOMAIN=aistrategyhub.eu

# Sentry error tracking (opzionale)
# SENTRY_DSN=
